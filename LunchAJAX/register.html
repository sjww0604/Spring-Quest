<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì ë©”ì¶” ë“±ë¡</title>
    <style>
            * { box-sizing: border-box; }
            body { font-family: 'Helvetica Neue', Arial, sans-serif; 
            margin: 0; background:#fafafa; color:#222; 
        }

            .container { max-width:900px; margin:40px auto; padding:24px; 
                background:#fff; border-radius:16px; 
                box-shadow:0 10px 24px rgba(0,0,0,.06); }

            .full { width:100%; }
            select.full, input[type="text"].full { width:100%; padding:12px; 
                border:1px solid lightgray; border-radius:10px; }

            input[type="range"].full { width:100%; }
            output.below { display:block; margin-top:8px; color:gray; }
    
            .radio-group { display:flex; flex-direction:column; gap:8px; }
            .radio-item { display:flex; align-items:center; gap:8px; cursor:pointer; }
            .actions { margin-top:12px; }

            button { padding: 12px 18px; border:0; border-radius:10px; cursor:pointer; 
            align-items: center;}
            
            #button-submit {
                color: rgb(255, 255, 255);
                background-color: rgba(74, 61, 255, 0.98);
                margin-top: 10px;
                margin-right: 5px;
            }

            #button-list {
                color: rgb(255, 255, 255);
                background-color: rgba(0, 0, 0, 0.98);
                margin-top: 10px;
                margin-right: 5px;

            }
            #button-home {
                color: rgb(255, 255, 255);
                background-color: rgba(255, 0, 0, 0.98);
                margin-right: 5px;
            }                       
    </style>
</head>
    <body>
        <!-- ì ë©”ì¶” ê¸°ë³¸ ì–‘ì‹ ëŒê³ ì˜´ -->
        <main class="container">
        <h1>ğŸ± ì ì‹¬ ë©”ë‰´ ì¶”ì²œê¸° ë“±ë¡í™”ë©´</h1>
        <p>ë‹¤ë¥¸ ë¶„ë“¤ì—ê²Œ ì ì‹¬ë©”ë‰´ë¥¼ ì¶”ì²œí•˜ê¸° ìœ„í•œ ìƒí’ˆ ë“±ë¡ í™”ë©´ì…ë‹ˆë‹¤.</p>
            <form id="lunch-form">
            <div class="field">
                <h3>ğŸ’¬ ë©”ë‰´ ì´ë¦„</h3>
                <input type="text" placeholder="ìŒì‹ëª…ë§Œ ê¸°ì…í•´ì£¼ì„¸ìš”." required id="name" name="name" class="full">
            </div>    

            <div class="field">
                <h3>ğŸŒ¶ï¸ ë§µê¸° ì •ë„</h3>
                    <select id="spicy" name="spicy" class="full" required>
                        <option value="" disabled selected>===ë§µê¸°ë¥¼ ì„ íƒí•˜ì„¸ìš”===</option>
                        <option value="ë§¤ìš´ê±° ì‹«ì–´ìš”">ë§¤ìš´ê±° ì‹«ì–´ìš”</option>
                        <option value="ì‚´ì§ ë§¤ìš´ ë§›">ì‚´ì§ ë§¤ìš´ ë§›</option>
                        <option value="ê¸°ë³¸ ë§¤ìš´ ë§›">ê¸°ë³¸ ë§¤ìš´ ë§›</option>
                        <option value="ì¡°ê¸ˆ ë§¤ìš´ ë§›">ì¡°ê¸ˆ ë§¤ìš´ ë§›</option>
                        <option value="í™”ëˆí•œ ë§¤ìš´ ë§›">í™”ëˆí•œ ë§¤ìš´ ë§›</option>
                        <option value="ì•„ì£¼ ë§¤ìš´ ë§›">ì•„ì£¼ ë§¤ìš´ ë§›</option>
                    </select>
            </div>

            <div class="field">
                <h3>ğŸ’° ì˜ˆì‚°</h3>
                    <input type="range" id="budget" name="budget" min="5000" max="20000" step="1000" value="5000" class="full">
                    <output id="budget-out" class="below">5,000 ì›</output>
                </div>

            <div class="field">
                <h3>ğŸ— ìŒì‹ ì¢…ë¥˜</h3>
                    <div class="radio-group">
                        <label class="radio-item">
                            <input type="radio" id="korea" name="food-category" value="í•œì‹" > ğŸš í•œì‹ </label>
                        <label class="radio-item">
                            <input type="radio" id="japan" name="food-category" value="ì¼ì‹"> ğŸ™ ì¼ì‹ </label>
                        <label class="radio-item">
                            <input type="radio" id="china" name="food-category" value="ì¤‘ì‹"> ğŸ¥Ÿ ì¤‘ì‹ </label>
                        <label class="radio-item">
                            <input type="radio" id="western" name="food-category" value="ì–‘ì‹"> ğŸ• ì–‘ì‹ </label>
                    </div>
            </div>

            <div class="field">
                <h3>ğŸ™‚ ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€?</h3>
                <!-- âœ… name ì¶”ê°€ -->
                    <input type="text" id="mood" name="mood" placeholder="ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì„ ì…ë ¥í•˜ì„¸ìš”" class="full" >
            </div>

            <button id="button-submit" type="submit">ë“±ë¡í•˜ê¸°</button>
            <button id="button-list" type="button" onclick="location.href='list.html'">ëª©ë¡ë³´ê¸°</button>
            <button id="button-home" type="button" onclick="location.href='index.html'">ì²˜ìŒìœ¼ë¡œ</button>

        </form>
  </main>

  <script>
    /* ì„œë²„ ë² ì´ìŠ¤ë¥¼ MockAPI URLì„ ì‚¬ìš©í•˜ê³ ì í•¨
    Javascript ë˜í•œ ì´ì „ ì‚¬ìš©í–ˆë˜ êµ¬ë¬¸ì—ì„œ ì¼ë¶€ ìˆ˜ì •ë§Œ ì§„í–‰*/
    const API_BASE = 'https://68b7baee73b3ec66cec55e50.mockapi.io/lunch';

    const budget = document.getElementById('budget');
    const budgetOut = document.getElementById('budget-out');
    const toKRW = v => Number(v).toLocaleString('ko-KR') + ' ì›';
    budget.addEventListener('input', () => budgetOut.textContent = toKRW(budget.value));



    const form = document.getElementById('lunch-form');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
    
    const formData = new FormData(form);
    const name = formData.get('name'||'').trim();        // ì´ë¦„ ì…ë ¥
    const spicy = formData.get('spicy');                 // ë¬¸ìì—´ (ex: "ê¸°ë³¸ ë§¤ìš´ ë§›")
    const budgetNum = Number(formData.get('budget')||0); // ìˆ«ìí™”
    const category = formData.get('food-category');      // ë¬¸ìì—´
    const mood = (formData.get('mood')||'').trim();

    if (!category) return alert('ìŒì‹ ì¢…ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.');
    if (!mood) return alert('ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì„ ì…ë ¥í•˜ì„¸ìš”.');

    const autoName = `${category} - ${spicy || 'ë§µê¸° ë¯¸ì •'}`;
    const payload = {
        name,
        spicy,                // ì›ë¬¸ ê·¸ëŒ€ë¡œ ì €ì¥
        budget: budgetNum,
        category,
        mood,
        };

    try {
        await fetch(API_BASE, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
    });
        alert('ë“±ë¡ ì™„ë£Œ!');
        form.reset();
    } catch (err) {
        console.error(err);
        alert('API í˜¸ì¶œ ì‹¤íŒ¨');
    }
    });

  </script>

    </body>    
</html>
